---
layout: base.njk
title: Get Started
description: Sign up for Bethany and start staying connected to the people who matter.
---

<section class="pt-32 pb-20 md:pt-40 relative">
  <div class="gradient-blob w-72 h-72 bg-sage/20 top-20 right-0"></div>
  <div class="gradient-blob w-64 h-64 bg-terracotta/15 bottom-0 left-0"></div>
  
  <div class="max-w-xl mx-auto px-6 relative z-10">
    <div class="text-center mb-10">
      <h1 class="text-4xl md:text-5xl font-display font-medium text-charcoal mb-4">
        Let's get you started
      </h1>
      <p class="text-xl text-charcoal-light">
        Just a few quick things and I'll start helping you stay connected.
      </p>
    </div>
    
    <div class="card">
      <form id="signup-form" class="space-y-6" novalidate>
        <div>
          <label for="name" class="block text-charcoal font-medium mb-2">What should I call you?</label>
          <input type="text" id="name" name="name" class="input-field" placeholder="Your first name" required autocomplete="given-name">
          <p class="error-message hidden" data-error="name"></p>
        </div>
        
        <div>
          <label for="email" class="block text-charcoal font-medium mb-2">Email address</label>
          <input type="email" id="email" name="email" class="input-field" placeholder="you@example.com" required autocomplete="email">
          <p class="error-message hidden" data-error="email"></p>
        </div>
        
        <div>
          <label for="phone" class="block text-charcoal font-medium mb-2">Phone number</label>
          <input type="tel" id="phone" name="phone" class="input-field" placeholder="(555) 123-4567" required autocomplete="tel">
          <p class="text-charcoal-light text-sm mt-1">I'll text you here. US numbers only for now.</p>
          <p class="error-message hidden" data-error="phone"></p>
        </div>
        
        <div>
          <label for="pin" class="block text-charcoal font-medium mb-2">Create a 4-digit PIN</label>
          <input type="text" id="pin" name="pin" class="input-field" placeholder="1234" maxlength="4" pattern="[0-9]{4}" inputmode="numeric" required>
          <p class="text-charcoal-light text-sm mt-1">You'll use this to confirm important actions via text.</p>
          <p class="error-message hidden" data-error="pin"></p>
        </div>
        
        <div class="flex items-start gap-3">
          <input type="checkbox" id="terms" name="terms" required class="mt-1">
          <label for="terms" class="text-charcoal-light text-sm leading-relaxed">
            I agree to the <a href="/terms" class="text-terracotta hover:underline">Terms of Service</a> and <a href="/privacy" class="text-terracotta hover:underline">Privacy Policy</a>. I understand Bethany will text me.
          </label>
        </div>
        <p class="error-message hidden" data-error="terms"></p>
        
        <button type="submit" class="btn-primary w-full" id="submit-btn">
          <span id="btn-text">Start my free account</span>
          <span id="btn-loading" class="hidden">
            <svg class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </span>
        </button>
        
        <div id="form-error" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm"></div>
      </form>
    </div>
    
    <p class="text-center text-charcoal-light text-sm mt-8">Free plan includes 15 contacts. No credit card required.</p>
  </div>
</section>

<div id="success-modal" class="hidden fixed inset-0 bg-charcoal/50 backdrop-blur-sm z-50 flex items-center justify-center p-6">
  <div class="bg-warm-white rounded-3xl p-8 max-w-md w-full shadow-medium text-center animate-fade-up">
    <div class="w-16 h-16 rounded-full bg-sage/20 flex items-center justify-center mx-auto mb-6">
      <span class="text-4xl">ðŸŽ‰</span>
    </div>
    <h2 class="font-display text-3xl font-medium text-charcoal mb-4">You're all set!</h2>
    <p class="text-charcoal-light text-lg mb-6">Check your phoneâ€”I just sent you a welcome message. Reply anytime to start adding people to keep in touch with.</p>
    <a href="/" class="btn-secondary">Back to home</a>
  </div>
</div>

<script>
(function() {
  const form = document.getElementById('signup-form');
  const submitBtn = document.getElementById('submit-btn');
  const btnText = document.getElementById('btn-text');
  const btnLoading = document.getElementById('btn-loading');
  const formError = document.getElementById('form-error');
  const successModal = document.getElementById('success-modal');
  const API_URL = '{{ site.apiUrl }}';

  const phoneInput = document.getElementById('phone');
  phoneInput.addEventListener('input', function(e) {
    let value = e.target.value.replace(/\D/g, '');
    if (value.length > 10) value = value.slice(0, 10);
    if (value.length >= 6) {
      value = '(' + value.slice(0, 3) + ') ' + value.slice(3, 6) + '-' + value.slice(6);
    } else if (value.length >= 3) {
      value = '(' + value.slice(0, 3) + ') ' + value.slice(3);
    }
    e.target.value = value;
  });

  const pinInput = document.getElementById('pin');
  pinInput.addEventListener('input', function(e) {
    e.target.value = e.target.value.replace(/\D/g, '').slice(0, 4);
  });

  function showError(field, message) {
    const errorEl = document.querySelector('[data-error="' + field + '"]');
    const inputEl = document.getElementById(field);
    if (errorEl) { errorEl.textContent = message; errorEl.classList.remove('hidden'); }
    if (inputEl) { inputEl.classList.add('input-error'); }
  }

  function clearErrors() {
    document.querySelectorAll('.error-message').forEach(function(el) { el.classList.add('hidden'); });
    document.querySelectorAll('.input-error').forEach(function(el) { el.classList.remove('input-error'); });
    formError.classList.add('hidden');
  }

  function setLoading(loading) {
    submitBtn.disabled = loading;
    btnText.classList.toggle('hidden', loading);
    btnLoading.classList.toggle('hidden', !loading);
  }

  form.addEventListener('submit', async function(e) {
    e.preventDefault();
    clearErrors();
    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();
    const phone = document.getElementById('phone').value.replace(/\D/g, '');
    const pin = document.getElementById('pin').value;
    const terms = document.getElementById('terms').checked;
    let hasError = false;
    if (!name) { showError('name', 'Please enter your name'); hasError = true; }
    if (!email || !email.includes('@')) { showError('email', 'Please enter a valid email address'); hasError = true; }
    if (phone.length !== 10) { showError('phone', 'Please enter a valid 10-digit phone number'); hasError = true; }
    if (pin.length !== 4) { showError('pin', 'Please enter a 4-digit PIN'); hasError = true; }
    if (!terms) { showError('terms', 'Please accept the terms to continue'); hasError = true; }
    if (hasError) return;
    setLoading(true);
    try {
      const response = await fetch(API_URL + '/signup', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name: name, email: email, phone: '+1' + phone, pin: pin, termsAccepted: terms })
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error || 'Something went wrong. Please try again.');
      successModal.classList.remove('hidden');
      form.reset();
    } catch (error) {
      formError.textContent = error.message;
      formError.classList.remove('hidden');
    } finally {
      setLoading(false);
    }
  });

  successModal.addEventListener('click', function(e) {
    if (e.target === successModal) successModal.classList.add('hidden');
  });
})();
</script>